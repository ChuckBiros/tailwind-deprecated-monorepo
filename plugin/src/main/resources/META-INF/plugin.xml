<!-- Plugin Configuration -->
<idea-plugin>
    <id>com.tailwinddeprecated.plugin</id>
    <name>Tailwind Deprecated</name>
    <version>1.0.0</version>
    <vendor email="support@example.com" url="https://github.com/your-org/tailwind-deprecated">
        Your Company
    </vendor>

    <description><![CDATA[
    <h2>Tailwind Deprecated Classes Detector</h2>
    <p>
        Detects and highlights deprecated Tailwind CSS custom classes in your code.
        Perfect for teams migrating from legacy CSS classes to new design system components.
    </p>
    
    <h3>Features</h3>
    <ul>
        <li>üîç <b>Automatic Detection</b> - Scans your CSS files for classes marked as deprecated</li>
        <li>‚ö†Ô∏è <b>Real-time Highlighting</b> - Deprecated classes are underlined in your code</li>
        <li>üí¨ <b>Custom Messages</b> - Shows the deprecation message on hover</li>
        <li>üåê <b>Multi-framework</b> - Supports HTML, React, Vue, Angular, Svelte, and more</li>
    </ul>
    
    <h3>How to Mark a Class as Deprecated</h3>
    <p>Add the <code>--deprecated</code> custom property to your CSS class:</p>
    <pre>
.old-button {
  --deprecated: "Use .btn-primary instead";
  /* existing styles */
}
    </pre>
    ]]></description>

    <change-notes><![CDATA[
    <h3>1.0.0</h3>
    <ul>
        <li>Initial release</li>
        <li>Automatic CSS scanning for deprecated classes</li>
        <li>Real-time highlighting in editor</li>
        <li>Support for multiple frameworks and syntaxes</li>
    </ul>
    ]]></change-notes>

    <!-- Minimum IDE version -->
    <idea-version since-build="233" until-build="243.*"/>

    <!-- Dependencies -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.redhat.devtools.lsp4ij</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Settings page -->
        <applicationConfigurable
            parentId="tools"
            instance="com.tailwinddeprecated.settings.TailwindDeprecatedConfigurable"
            id="com.tailwinddeprecated.settings"
            displayName="Tailwind Deprecated"/>
        
        <!-- Persistent settings -->
        <applicationService
            serviceImplementation="com.tailwinddeprecated.settings.TailwindDeprecatedSettings"/>
            
        <!-- Notification group -->
        <notificationGroup
            id="Tailwind Deprecated"
            displayType="BALLOON"/>
    </extensions>

    <extensions defaultExtensionNs="com.redhat.devtools.lsp4ij">
        <!-- LSP Server definition -->
        <server
            id="tailwindDeprecatedServer"
            name="Tailwind Deprecated"
            factoryClass="com.tailwinddeprecated.lsp.TailwindDeprecatedServerFactory">
            <description><![CDATA[
                Language server for detecting deprecated Tailwind CSS classes.
            ]]></description>
        </server>
        
        <!-- Language mappings -->
        <languageMapping
            language="HTML"
            serverId="tailwindDeprecatedServer"/>
        <languageMapping
            language="JavaScript"
            serverId="tailwindDeprecatedServer"/>
        <languageMapping
            language="TypeScript"
            serverId="tailwindDeprecatedServer"/>
        <languageMapping
            language="Vue"
            serverId="tailwindDeprecatedServer"/>
        <languageMapping
            language="CSS"
            serverId="tailwindDeprecatedServer"/>
    </extensions>

    <actions>
        <!-- Refresh action -->
        <action
            id="TailwindDeprecated.RefreshCache"
            class="com.tailwinddeprecated.actions.RefreshCacheAction"
            text="Refresh Deprecated Classes Cache"
            description="Rescans CSS files for deprecated class definitions">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>

